<server description="Sample Liberty server">

    <featureManager>
        <feature>microProfile-2.2</feature>
        <feature>jwt-1.0</feature>
        <feature>mpJwt-1.1</feature>
        <feature>jpa-2.2</feature>
    </featureManager>
    
    <mpJwt 
	     keyName="mpJwtValidationKey"
	     issuer="http://localhost:9080/RealWorld"
	     audiences ="conferenceService">
	</mpJwt>
    
    <httpEndpoint httpPort="${default.http.port}" httpsPort="${default.https.port}"
                  id="defaultHttpEndpoint" host="*"/>

    <quickStartSecurity userName="admin" userPassword="password"/>
    
    <keyStore id="defaultKeyStore" password="yourPassword" />
    
    <application name="RealWorld" location="${appLocation}" type="war" context-root="/">
        <application-bnd>
            <security-role name="admin">
                <group name="myAdmins" />
            </security-role>
            <security-role name="user">
                <group name="myUsers" />
            </security-role>
        </application-bnd>
    </application>
      
  <!-- Derby Library Configuration -->
  <library id="derbyJDBCLib">
      <fileset dir="${shared.resource.dir}" includes="derby*.jar"/>
  </library>

  <!-- Datasource Configuration -->
  <dataSource id="eventjpadatasource"
              jndiName="jdbc/eventjpadatasource">
      <jdbcDriver libraryRef="derbyJDBCLib" />
      <properties.derby.embedded databaseName="EventDB" createDatabase="create"/>
  </dataSource>

    
	<jwtConsumer id="defaultJWTConsumer" issuer="http://localhost:9080/RealWorld" trustStoreRef="defaultKeyStore" trustAliasName="certificate_alias"></jwtConsumer>

</server>
